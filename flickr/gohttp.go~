package main
 
import (
    "fmt"
    "net/http"
    "io/ioutil"
    "os"
    "encoding/json"
    )

type Details struct{
	id string	`json:"id"`
	owner string	`json:"owner"`
	secret string	`json:"secret"`
	server string	`json:"server"`
	farm int	`json:"farm"`
	title string 	`json:"title"`
	ispublic int	`json:"ispublic"`
	isfriend int	`json:"isfriend"`
	isfamily int	`json:"isfamily"`
}
type Packet struct{
	page int	`json:"page"`
	pages int	`json:"pages"`
	perpage int	`json:"perpage"`
	total string	`json:"total"`
	photo []Details	`json:"photo"`
} 
type Message struct{
	photos Packet	`json:"photos"`
	stat string	`json:"stat"`
}
func main() {

	//getting the data from flickr api using get method.....

    response, err := http.Get("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=c2ef6776bc7946440b01cc9070d55ac0&tags=cute+puppy&per_page=1&format=json&nojsoncallback=1&auth_token=72157654809259522-833770d09d600311&api_sig=164482f059ef2a032b504551e720b66c")
    if err != nil {
        fmt.Printf("%s", err)
        os.Exit(1)
    } else {
        defer response.Body.Close()
        contents, err := ioutil.ReadAll(response.Body)
        if err != nil {
            fmt.Printf("%s", err)
            os.Exit(1)
        }

	m := Message{}
	errn := json.Unmarshal([]byte(contents),&m)
	if errn != nil {
		fmt.Println(errn);
	}
	arrayofjsondata := m.photos.photo;
	fmt.Printf("%+v",arrayofjsondata);
   }
}
